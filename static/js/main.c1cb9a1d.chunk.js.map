{"version":3,"sources":["components/TodoList/TodoList.tsx","api.ts","components/CurrentUser/CurrentUser.tsx","App.tsx","index.tsx"],"names":["TodoList","state","findTitle","filterBy","handleChangeInput","event","value","target","setState","handleChangeSelect","filterTodo","props","todos","filter","todo","title","toLocaleLowerCase","includes","toLowerCase","completed","this","onFind","filteredTodos","className","action","type","onChange","name","map","classNames","htmlFor","id","readOnly","onClick","userId","React","Component","request","url","a","fetch","response","ok","Error","status","statusText","json","CurrentUser","user","loadDataError","loadData","prevProps","selectedUserId","onClean","email","phone","App","findUserById","clearUser","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c1cb9a1d.chunk.js","sourcesContent":["import React, { ChangeEvent } from 'react';\nimport './TodoList.scss';\nimport classNames from 'classnames';\n\ninterface State {\n  findTitle: string;\n  filterBy: string;\n}\n\ninterface Props {\n  todos: Todo[]\n  onFind:(userId:number) => void\n}\n\nexport class TodoList extends React.Component<Props, State> {\n  state = {\n    findTitle: '',\n    filterBy: 'All',\n  };\n\n  handleChangeInput = (event: ChangeEvent<HTMLInputElement>) => {\n    const { value } = event.target;\n\n    this.setState({\n      findTitle: value,\n    });\n  };\n\n  handleChangeSelect = (event:ChangeEvent<HTMLSelectElement>) => {\n    const { value } = event.target;\n\n    this.filterTodo();\n    this.setState({ filterBy: value });\n  };\n\n  filterTodo = () => {\n    const { findTitle, filterBy } = this.state;\n    const { todos } = this.props;\n\n    const newTodos = todos.filter(todo => {\n      switch (filterBy) {\n        case 'All':\n          return (todo.title.toLocaleLowerCase()).includes(findTitle.toLowerCase());\n        case 'Active':\n          return (todo.completed);\n        case 'Completed':\n          return (!todo.completed);\n        default:\n          return (todo.title.toLocaleLowerCase()).includes(findTitle.toLowerCase());\n      }\n    });\n\n    return newTodos;\n  };\n\n  render() {\n    const { findTitle } = this.state;\n    const { onFind } = this.props;\n\n    const filteredTodos = this.filterTodo();\n\n    return (\n      <>\n        <div className=\"TodoList\">\n          <h2>Todos:</h2>\n          Search Todo:\n          {' '}\n          <form action=\"\">\n            <input\n              value={findTitle}\n              type=\"text\"\n              onChange={(event) => {\n                this.handleChangeInput(event);\n              }}\n            />\n\n            <select\n              name=\"filterTodos\"\n              onChange={(event) => {\n                this.handleChangeSelect(event);\n              }}\n            >\n              <option value=\"All\">All</option>\n              <option value=\"Active\">Active</option>\n              <option value=\"Completed\">Completed</option>\n            </select>\n          </form>\n          { filteredTodos.map((todo:Todo) => (\n            <div key={todo.id} className=\"TodoList__list-container\">\n              <ul className=\"TodoList__list\">\n                <li\n                  className={classNames(\n                    'TodoList__item',\n                    {\n                      'TodoList__item--unchecked': !todo.completed,\n                      'TodoList__item--checked': todo.completed,\n                    },\n                  )}\n                >\n                  <label htmlFor=\"123123\">\n                    <input id=\"123123\" type=\"checkbox\" readOnly />\n                    <p>{todo.title}</p>\n                  </label>\n\n                  <button\n                    className=\"\n              TodoList__user-button\n              TodoList__user-button--selected\n              button\n            \"\n                    type=\"button\"\n                    value=\"\"\n                    onClick={() => onFind(todo.userId)}\n                  >\n                    User&nbsp;#\n                    {todo.userId}\n                  </button>\n                </li>\n              </ul>\n            </div>\n          ))}\n        </div>\n      </>\n    );\n  }\n}\n","const BASE_URL = 'https://mate.academy/students-api';\n\nexport const request = async (url: string) => {\n  const response = await fetch(`${BASE_URL}${url}`);\n\n  if (!response.ok) {\n    throw new Error(`${response.status} - ${response.statusText}`);\n  }\n\n  return response.json();\n};\n\nexport const getTodos = () => request('/todos');\nexport const getUser = (userId: number) => request(`/users/${userId}`);\n","import React from 'react';\nimport './CurrentUser.scss';\nimport { getUser } from '../../api';\n\ninterface Props {\n  selectedUserId: number\n  onFind: (userId:number) => void\n  onClean: () => void\n}\n\ninterface State {\n  user: User | null\n  loadDataError: boolean\n}\n\nexport class CurrentUser extends React.Component<Props, State> {\n  state: State = {\n    user: null,\n    loadDataError: false,\n  };\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    const { selectedUserId } = this.props;\n\n    if (prevProps.selectedUserId !== selectedUserId) {\n      this.loadData();\n    }\n  }\n\n  async loadData() {\n    try {\n      const { selectedUserId } = this.props;\n      const user = await getUser(selectedUserId);\n\n      this.setState({\n        user, loadDataError: false,\n      });\n    } catch (error) {\n      this.setState({\n        user: null, loadDataError: true,\n      });\n    }\n  }\n\n  render() {\n    const { user, loadDataError } = this.state;\n    const { onClean } = this.props;\n\n    return (\n      <>\n        {user\n          && (\n            <div className=\"CurrentUser\">\n              <h2 className=\"CurrentUser__title\">\n                <span>\n                  Selected user:\n                  {' '}\n                  {user.id}\n                </span>\n              </h2>\n\n              <h3 className=\"CurrentUser__name\">{user.name}</h3>\n              <p className=\"CurrentUser__email\">{user.email}</p>\n              <p className=\"CurrentUser__phone\">{user.phone}</p>\n              <button\n                className=\"button-clear\"\n                type=\"button\"\n                onClick={onClean}\n              >\n                clear\n              </button>\n            </div>\n          )}\n        {loadDataError && <p>User not found</p>}\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport './App.scss';\nimport './styles/general.scss';\nimport { TodoList } from './components/TodoList';\nimport { CurrentUser } from './components/CurrentUser';\nimport { getTodos } from './api';\n\ninterface State {\n  selectedUserId: number;\n  todos: Todo[];\n}\n\nexport class App extends React.Component<{}, State> {\n  state: State = {\n    selectedUserId: 0,\n    todos: [],\n  };\n\n  async componentDidMount() {\n    const todos = await getTodos();\n\n    this.setState({ todos });\n  }\n\n  findUserById = (userId: number) => this.setState({ selectedUserId: userId });\n\n  clearUser = () => this.setState({ selectedUserId: 0 });\n\n  render() {\n    const { todos, selectedUserId } = this.state;\n\n    return (\n      <div className=\"App\">\n        <div className=\"App__sidebar\">\n          <TodoList\n            todos={todos}\n            onFind={this.findUserById}\n          />\n        </div>\n\n        <div className=\"App__content\">\n          <div className=\"App__content-container\">\n            {selectedUserId ? (\n              <CurrentUser\n                selectedUserId={selectedUserId}\n                onFind={this.findUserById}\n                onClean={this.clearUser}\n              />\n            ) : 'No user selected'}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import ReactDOM from 'react-dom';\nimport { App } from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}